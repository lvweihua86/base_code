<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.hivescm.codeid.mapper.SingleSeriaNumberMapper">
  <resultMap id="BaseResultMap" type="com.hivescm.codeid.pojo.SeriaNumber">
    <id column="id" jdbcType="BIGINT" property="id" />
    <result column="code_id" jdbcType="BIGINT" property="codeId" />
    <result column="flow_by1" jdbcType="VARCHAR" property="flowBy1" />
    <result column="flow_by2" jdbcType="VARCHAR" property="flowBy2" />
    <result column="current_max_num" jdbcType="VARCHAR" property="currentMaxNum" />
    <result column="org_id" jdbcType="VARCHAR" property="orgId" />
  </resultMap>
  <sql id="Base_Column_List">
    id, code_id, flow_by1, flow_by2, current_max_num, org_id
  </sql>

  <select id="getSingleTableTotalCount"  resultType="long">
      SELECT
         count(*)
      FROM
         base_seria_number#{0}
  </select>

  <select id="getSingleTableEntitysByPages"  resultMap="BaseResultMap">
     SELECT
       <include refid="Base_Column_List" />
     FROM
        base_seria_number#{0}
     LIMIT #{1},#{2}   
  </select>

  <update id="updateFlowNum">
        update
        base_seria_number#{0}
        set
        current_max_num = #{1}
        where id = #{2}
  </update>

</mapper>