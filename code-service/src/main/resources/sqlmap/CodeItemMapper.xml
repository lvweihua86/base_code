<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.hivescm.code.mapper.CodeItemMapper">


    <sql id="base_insert_list">
    id, rule_id, order_num, item_type, item_value,item_length, is_serial, serial_type,
    cover_way,cover_char,create_user,create_time
  </sql>

    <insert id="batchAddCodeItem">
        INSERT INTO base_code_item
        (
        <include refid="base_insert_list"/>
        )VALUES
        <foreach collection="beans" item="bean" separator=",">
            (
            #{bean.id},
            #{ruleId},
            #{bean.orderNum},
            #{bean.itemType},
            #{bean.itemValue},
            #{bean.itemLength},
            #{bean.serial},
            #{bean.serialType},
            #{bean.coverWay},
            #{bean.coverChar},
            #{bean.createUser},
            #{bean.createTime}
            )
        </foreach>
    </insert>

    <delete id="deleteByRuleIds">
        delete from base_code_item where rule_id in
        <foreach collection="ruleIds" item="ruleId" open="(" separator="," close=")">
            #{ruleId}
        </foreach>
    </delete>
</mapper>